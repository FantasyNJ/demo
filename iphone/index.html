<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        body{margin: 0;padding: 0;}
        #wrap{width: 426px;height:630px;background: url(img/iphone0.jpg) no-repeat;position: relative;left: 50%;margin-left: -213px;}
        #lock{width: 358px;height: 62px;position: absolute;bottom: 22px;left: 35px;border-radius: 4px;overflow: hidden;}
        #btn{width: 93px;height: 62px;background: url(img/iphoneBtn.jpg) no-repeat;position: absolute;
            cursor: pointer;}
    </style>
</head>
<body>
<div id="wrap">
    <div id="lock">
        <div id="btn"></div>
    </div>
</div>
<script>
    var oWrap=document.getElementById('wrap');
    var oLock=document.getElementById('lock');
    var oBtn=document.getElementById('btn');
    oBtn.onmousedown=function(ev){
        var ev=ev||event;
        var left=getPosition(oBtn).left;
//        var top=getPosition(oBtn).top;
        var disX=ev.clientX-left;
//        var disY=ev.clientY-top;
        var l=0;
        var _this=this;
        this.setCapture&&this.setCapture();
        oBtn.onmousemove=function(ev){
            var ev=ev||event;
            l=ev.clientX-disX-left;
//            var t=ev.clientY-disY-top;
            if(l<0){
                l=0;
            }else if(l>oLock.offsetWidth-oBtn.offsetWidth){
                l=oLock.offsetWidth-oBtn.offsetWidth;
            }
            oBtn.style.left=l+'px';
        }
        document.onmouseup=function(){
            oBtn.onmousemove=null;
            if(l<(oLock.offsetWidth-oBtn.offsetWidth)-20){
                l=0;
            }else if(l>=(oLock.offsetWidth-oBtn.offsetWidth)-20){
                l=oLock.offsetWidth-oBtn.offsetWidth;
                oWrap.style.backgroundImage='url(img/iphone1.jpg)';
                oLock.style.display=oBtn.style.display='none';
            }
            oBtn.style.left=l+'px';
            _this.releaseCapture&&_this.releaseCapture();
        }
        return false;
    }
    function getPosition(obj){
        var o={left:0,top:0};
        while(obj.offsetParent){
            o.left+=obj.offsetLeft;
            o.top+=obj.offsetTop;
            obj=obj.offsetParent;
        }
        return o;
    }
</script>
</body>
</html>