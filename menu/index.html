<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>联动菜单</title>
</head>
<body>
    <select name="year" id="year">
        <option value="0">--</option>
        <option value="1999">1999</option>
        <option value="2000">2000</option>
        <option value="2001">2001</option>
    </select>年
    <select name="month" id="month">
        <option value="0">--</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
    </select>月
    <select name="date" id="date">
        <option value="0">--</option>
    </select>日
<script>
    function addEvent(elem,event,fn){
        if(elem.addEventListener){
            elem.addEventListener(event,fn,false);
        }else{
            elem.attachEvent('on'+event,function(){
                fn.call(elem);
            });
        }
    }
    var year = document.getElementById("year");
    var month = document.getElementById("month");
    var date = document.getElementById("date");
    var aOp=date.getElementsByTagName('option');
    addEvent(year,'change',q);
    addEvent(month,'change',q);
    function q(){
        var y=year.value;
        var m=month.value;
        if(y!=0 && m!=0){
            var d=new Date(y,m,0);
            var r= d.getDate();
            var len=aOp.length;
            if(r>len-1){           //如果天数比下拉框天数多
                add(r);           //增加到r天
            }else if(r<len-1){           //如果天数比下拉框天数少
                remove(r+1);         //删除到r天
            }
        }else{
            remove(1);
        }
    }
    function remove(a){
        var l=aOp.length-1;              //除了-- 下拉框有l天
        for(var i=l;i>=a;i--){
            date.removeChild(aOp[i]);     //删除最后的l-a+1项
        }
    }
    function add(b){
        var l=aOp.length-1;           //除了-- 下拉框有l天
        for(var i=l;i<b;i++){         //添加b-l项
            var op=document.createElement('option');
            op.value=op.text=i+1;
            date.appendChild(op);
        }
    }
</script>
</body>
</html>